"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.queryPayments = exports.QUERY_RATES_PAYMENTS = void 0;
const client_1 = require("../client");
const graphql_request_1 = require("graphql-request");
exports.QUERY_RATES_PAYMENTS = (0, graphql_request_1.gql) `
  query QUERY_RATES_PAYMENTS($contractAddress: String!) {
    rates(address: $contractAddress) {
      payments {
        description
        is_additive
        rate {
          external {
            address
            key
          }
          flat {
            amount
            denom
          }
          percent {
            decimal
          }
        }
        receivers
      }
    }
  }
`;
/**
 * Queries a rates contract for its stored rate info
 * @param contractAddress
 * @returns
 */
async function queryPayments(contractAddress) {
    const resp = await (0, client_1.query)(exports.QUERY_RATES_PAYMENTS, { contractAddress });
    return resp.rates.payments;
}
exports.queryPayments = queryPayments;
